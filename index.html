<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clima Glass ☁️</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            margin: 0; padding: 20px; font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh; display: flex; justify-content: center; align-items: center;
            color: white;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 30px;
            padding: 30px; width: 100%; max-width: 350px; text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        input {
            width: 80%; padding: 12px; border-radius: 12px; border: none;
            background: rgba(255, 255, 255, 0.2); color: white; margin-bottom: 15px;
            outline: none; text-align: center;
        }
        button {
            background: #ffffff; color: #1e3c72; border: none;
            padding: 12px 25px; border-radius: 12px; cursor: pointer;
            font-weight: bold; transition: 0.3s;
        }
        button:active { transform: scale(0.95); }
        .info { margin-top: 25px; display: none; }
        .temp { font-size: 3rem; font-weight: bold; margin: 10px 0; }
        .details {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px;
            margin-top: 20px; font-size: 0.9rem;
        }
        .detail-item {
            background: rgba(255, 255, 255, 0.05); padding: 10px; border-radius: 15px;
        }
        .back-link { display: block; margin-top: 25px; color: white; text-decoration: none; opacity: 0.7; }
    </style>
</head>
<body>

<div class="glass-card">
    <h2><i class="fa-solid fa-cloud-sun"></i> Clima</h2>
    <input type="text" id="cityInput" placeholder="Digite a cidade...">
    <button onclick="getWeather()">Buscar</button>

    <div id="weatherInfo" class="info">
        <h3 id="cityName">Cidade</h3>
        <div class="temp" id="tempValue">0°C</div>
        <p id="descValue">Descritivo</p>
        
        <div class="details">
            <div class="detail-item">
                <i class="fa-solid fa-droplet"></i>
                <div id="humidity">0%</div>
                <span>Humidade</span>
            </div>
            <div class="detail-item">
                <i class="fa-solid fa-wind"></i>
                <div id="wind">0 km/h</div>
                <span>Vento</span>
            </div>
            <div class="detail-item">
                <i class="fa-solid fa-temperature-half"></i>
                <div id="feelsLike">0°C</div>
                <span>Sensação</span>
            </div>
            <div class="detail-item">
                <i class="fa-solid fa-eye"></i>
                <div id="visibility">0 km</div>
                <span>Visibilidade</span>
            </div>
        </div>
    </div>
    
    <a href="index.html" class="back-link">⬅ Voltar</a>
</div>

<script>
    async function getWeather() {
        const city = document.getElementById('cityInput').value;
        const infoDiv = document.getElementById('weatherInfo');
        if (!city) return alert("Digite uma cidade!");

        try {
            const response = await fetch(`https://wttr.in/${city}?format=j1`);
            const data = await response.json();

            const current = data.current_condition[0];
            const area = data.nearest_area[0];

            document.getElementById('cityName').innerText = `${area.region[0].value}, ${area.country[0].value}`;
            document.getElementById('tempValue').innerText = `${current.temp_C}°C`;
            document.getElementById('descValue').innerText = current.lang_pt ? current.lang_pt[0].value : current.weatherDesc[0].value;
            
            document.getElementById('humidity').innerText = `${current.humidity}%`;
            document.getElementById('wind').innerText = `${current.windspeedKmph} km/h`;
            document.getElementById('feelsLike').innerText = `${current.FeelsLikeC}°C`;
            document.getElementById('visibility').innerText = `${current.visibility} km`;

            infoDiv.style.display = 'block';
            console.log("Dados recebidos:", data);

        } catch (error) {
            alert("Erro ao buscar clima. Tente outra cidade.");
            console.error(error);
        }
    }
</script>

</body>
</html>
