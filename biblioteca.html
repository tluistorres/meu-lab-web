<script>
        class Book {
            constructor(title, pages, isbn) {
                this.title = title;
                // Se o livro antigo não tiver páginas, assume 100 para não quebrar o cálculo
                this.pages = Number(pages) || 100; 
                this.isbn = isbn || "N/A";
            }

            calcularTempoLeitura() {
                const paginasPorDia = 50;
                return Math.ceil(this.pages / paginasPorDia);
            }
        }

        // AGORA USANDO A SUA CHAVE CORRETA: biblioteca_luis
        let minhaEstante = JSON.parse(localStorage.getItem('biblioteca_luis')) || [];

        const adicionarLivro = () => {
            const t = document.getElementById('titulo').value;
            const p = document.getElementById('paginas').value;
            const i = document.getElementById('isbn').value;

            if (!t) return alert("Pelo menos o título é obrigatório!");

            const novoLivro = new Book(t, p, i);
            minhaEstante.unshift(novoLivro);
            salvar();
            limparCampos();
        };

        const renderizar = () => {
            const lista = document.getElementById('listaLivros');
            lista.innerHTML = '';

            minhaEstante.forEach(dados => {
                const livro = new Book(dados.title, dados.pages, dados.isbn);
                const dias = livro.calcularTempoLeitura();

                const div = document.createElement('div');
                div.className = 'livro-item';
                div.innerHTML = `
                    <h4>${livro.title}</h4>
                    <div class="info-extra">Páginas: ${livro.pages} | ISBN: ${livro.isbn}</div>
                    <div class="tempo-tag">
                        <i class="fa-solid fa-hourglass-half"></i> Estimativa: ${dias} dias de leitura
                    </div>
                `;
                lista.appendChild(div);
            });
        };

        const salvar = () => {
            // SALVANDO NA CHAVE CORRETA
            localStorage.setItem('biblioteca_luis', JSON.stringify(minhaEstante));
            renderizar();
        };

        const limparCampos = () => {
            document.getElementById('titulo').value = '';
            document.getElementById('paginas').value = '';
            document.getElementById('isbn').value = '';
        };

        window.onload = renderizar;
    </script>


